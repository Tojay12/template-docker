import{T as e}from"./index-D_fT48cH.js";import{a as l}from"./index.esm-B3KFWiaj.js";import{_ as a,i as t,u,r as o,j as s,c as n,a as r,b as d,w as i,s as v,e as p,o as m,k as c,g as x,p as y,h as f}from"./index-CfxxE0OO.js";import{n as g,o as _}from"./index-DoZ6u9uq.js";/* empty css                                                              */const h=e=>(y("data-v-48a9ad05"),e=e(),f(),e),b={class:"edits"},V={style:{padding:"0 16px"}},k={class:"editfrom"},w={style:{padding:"14px 11px","background-color":"#F5F7FA","border-radius":"0 0 10px 10px"}},j=h((()=>r("span",{style:{color:"#3E69FF","font-size":"14px"}},"设为默认地址",-1))),U=h((()=>r("span",{style:{color:"#7E8794","font-size":"12px"}},"设置后，下单时优先展示该地址",-1))),C=h((()=>r("div",{style:{"text-align":"center","margin-top":"20px"}},[r("span",null,"请选择地址")],-1))),$={class:"butlogin"},F=a({__name:"edit",setup(a){const y=t("reload"),f=u();o();const h=o("添加收货地址"),F=o(!0),q=o("Address"),A=o(""),z=o(""),N=o(""),E=o([]),I=o(""),S=o(),O=o(!1),T=o(),B=o(null),D=()=>{},G=o();g().then((e=>{G.value=e.data.length,G.value>0&&(F.value=!1)}));const H=()=>{const e=B.value.getSelectedOptions();let l="";l=e[0].text==e[1].text?`${e[0].text}/${e[2].text}`:`${e[0].text}/${e[1].text}/${e[2].text}`,E.value=[Number(e[0].value),Number(e[1].value),Number(e[2].value)],N.value=l,O.value=!O.value};const J=o(""),K=o(""),L=o(""),M=o(""),P=()=>{var e;J.value=""==A.value?"请不要为空":"",K.value=""==z.value?"请不要为空":"",K.value=(e=z.value,/^1\d{10}$/.test(e)?"":"请输入正确的手机号"),L.value=""==N.value?"请不要为空":"",M.value=""==I.value?"请不要为空":"",""==J.value&&""==K.value&&""==L.value&&""==M.value&&_({name:A.value,mobile:z.value,areaIds:E.value,detailAddress:S.value,street:I.value,defaultStatus:F.value}).then((e=>{200==e.code&&(v("新增成功"),f.push({name:"Address"}),y())}))};return s((()=>{})),(a,t)=>{const u=p("van-field"),o=p("van-cell-group"),s=p("van-col"),v=p("van-switch"),y=p("van-row"),f=p("van-button"),g=p("van-area"),_=p("van-popup");return m(),n("div",b,[r("div",V,[r("div",null,[d(e,{title:h.value,gorouter:q.value},null,8,["title","gorouter"])]),r("div",k,[d(o,{inset:""},{default:i((()=>[d(u,{modelValue:A.value,"onUpdate:modelValue":t[0]||(t[0]=e=>A.value=e),label:"收货人",required:"",placeholder:"请输入收货人姓名(必填)","error-message":J.value},null,8,["modelValue","error-message"]),d(u,{modelValue:z.value,"onUpdate:modelValue":t[1]||(t[1]=e=>z.value=e),type:"tel",label:"手机号","error-message":K.value,required:"",placeholder:"请输入收货人手机号(必填)"},null,8,["modelValue","error-message"]),d(u,{modelValue:N.value,"onUpdate:modelValue":t[2]||(t[2]=e=>N.value=e),required:"","is-link":"",readonly:"",label:"省市区",placeholder:"请选择省市区(必填)",onClick:t[3]||(t[3]=e=>O.value=!0),"error-message":L.value},null,8,["modelValue","error-message"]),d(u,{modelValue:I.value,"onUpdate:modelValue":t[4]||(t[4]=e=>I.value=e),required:"",label:"街道",placeholder:"请输入具体街道(必填)","error-message":M.value},null,8,["modelValue","error-message"]),d(u,{modelValue:S.value,"onUpdate:modelValue":t[5]||(t[5]=e=>S.value=e),rows:"2",autosize:"",label:"详细地址",type:"textarea",placeholder:"请输入收货人详细地址"},null,8,["modelValue"])])),_:1}),r("div",w,[d(y,null,{default:i((()=>[d(s,{span:"7",style:{display:"flex","align-items":"center"}},{default:i((()=>[j])),_:1}),d(s,{span:"13",style:{display:"flex","align-items":"center"}},{default:i((()=>[U])),_:1}),d(s,{span:"4",style:{display:"flex","align-items":"center"}},{default:i((()=>[d(v,{modelValue:F.value,"onUpdate:modelValue":t[6]||(t[6]=e=>F.value=e),onClick:D},null,8,["modelValue"])])),_:1})])),_:1})])]),d(_,{show:O.value,"onUpdate:show":t[11]||(t[11]=e=>O.value=e),round:"",position:"bottom"},{default:i((()=>[d(g,{modelValue:T.value,"onUpdate:modelValue":t[9]||(t[9]=e=>T.value=e),ref_key:"checkbox",ref:B,"area-list":c(l),"toolbar-position":"bottom","allow-html":!0,"columns-num":3,"visible-option-num":4,onConfirm:t[10]||(t[10]=e=>H())},{"columns-top":i((()=>[C])),toolbar:i((()=>[d(y,null,{default:i((()=>[d(s,{span:"12",style:{display:"flex","justify-content":"center","align-items":"center"}},{default:i((()=>[d(f,{plain:"",type:"primary",style:{width:"100px",height:"40px"},onClick:t[7]||(t[7]=e=>O.value=!1)},{default:i((()=>[x("取消")])),_:1})])),_:1}),d(s,{span:"12",style:{display:"flex","justify-content":"center","align-items":"center"}},{default:i((()=>[d(f,{type:"primary",style:{width:"100px",height:"40px"},onClick:t[8]||(t[8]=e=>H(a.e))},{default:i((()=>[x("确认")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","area-list"])])),_:1},8,["show"])]),r("div",$,[d(f,{type:"primary",class:"loginsty loginco",style:{"margin-bottom":"25px"},onClick:P},{default:i((()=>[x("保存")])),_:1})])])}}},[["__scopeId","data-v-48a9ad05"]]);export{F as default};
