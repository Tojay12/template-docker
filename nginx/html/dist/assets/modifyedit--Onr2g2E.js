import{T as e}from"./index-D_fT48cH.js";import{a}from"./index.esm-B3KFWiaj.js";import{_ as l,i as t,u,r,j as s,c as o,a as d,b as n,w as v,s as i,e as p,o as c,k as m,g as y,p as x,h as f}from"./index-CfxxE0OO.js";import{p as g,q as _}from"./index-DoZ6u9uq.js";/* empty css                                                              */const b=e=>(x("data-v-e5c3b2c2"),e=e(),f(),e),h={class:"edits"},V={style:{padding:"0 16px"}},q={class:"editfrom"},S={style:{padding:"14px 11px","background-color":"#F5F7FA","border-radius":"0 0 10px 10px"}},N=b((()=>d("span",{style:{color:"#3E69FF","font-size":"14px"}},"设为默认地址",-1))),O=b((()=>d("span",{style:{color:"#7E8794","font-size":"12px"}},"设置后，下单时优先展示该地址",-1))),J=b((()=>d("div",{style:{"text-align":"center","margin-top":"20px"}},[d("span",null,"请选择地址")],-1))),R={class:"butlogin"},$=l({__name:"modifyedit",setup(l){const x=t("reload"),f=u();r();const b=r("修改收货地址"),$=r(!0),k=r("Address"),w=r(""),j=r(""),U=r(""),A=r([]),C=r(""),F=r(""),z=r(""),E=r(""),I=r(),T=r(!1),B=r(),D=r(null),G=()=>{const e=D.value.getSelectedOptions();let a="";a=e[0].text==e[1].text?`${e[0].text}/${e[2].text}`:`${e[0].text}/${e[1].text}/${e[2].text}`,A.value=[Number(e[0].value),Number(e[1].value),Number(e[2].value)],C.value=e[0].text,F.value=e[1].text,z.value=e[2].text,U.value=a,T.value=!T.value};const H=r(""),K=r(""),L=r(""),M=r(""),P=()=>{var e;H.value=""==w.value?"请不要为空":"",K.value=""==j.value?"请不要为空":"",K.value=(e=j.value,/^1\d{10}$/.test(e)?"":"请输入正确的手机号"),L.value=""==U.value?"请不要为空":"",M.value=""==E.value?"请不要为空":"",""==H.value&&""==K.value&&""==L.value&&""==M.value&&g({name:w.value,mobile:j.value,province:C.value,city:F.value,district:z.value,detailAddress:I.value,street:E.value,defaultStatus:$.value,id:JSON.parse(f.currentRoute.value.query.datas).id}).then((e=>{200==e.code&&(i("修改成功"),f.push({name:"Address"}),x())}))},Q=()=>{_(JSON.parse(f.currentRoute.value.query.datas).id).then((e=>{i("删除成功"),f.push({name:"Address"}),x()}))},W=r({});return w.value=W.value.name,j.value=W.value.mobile,U.value=`${W.value.province}${W.value.city}${W.value.district}`,E.value=W.value.street,I.value=W.value.detailAddress,$.value=W.value.defaultStatus,C.value=W.value.province,F.value=W.value.city,z.value=W.value.district,s((()=>{W.value=JSON.parse(f.currentRoute.value.query.datas),w.value=JSON.parse(f.currentRoute.value.query.datas).name,j.value=JSON.parse(f.currentRoute.value.query.datas).mobile,U.value=`${JSON.parse(f.currentRoute.value.query.datas).province}${JSON.parse(f.currentRoute.value.query.datas).city}${JSON.parse(f.currentRoute.value.query.datas).district}`,E.value=JSON.parse(f.currentRoute.value.query.datas).street,I.value=JSON.parse(f.currentRoute.value.query.datas).detailAddress,$.value=JSON.parse(f.currentRoute.value.query.datas).defaultStatus,C.value=JSON.parse(f.currentRoute.value.query.datas).province,F.value=JSON.parse(f.currentRoute.value.query.datas).city,z.value=JSON.parse(f.currentRoute.value.query.datas).district,w.value=w.value})),(l,t)=>{const u=p("van-field"),r=p("van-cell-group"),s=p("van-col"),i=p("van-switch"),x=p("van-row"),f=p("van-button"),g=p("van-area"),_=p("van-popup");return c(),o("div",h,[d("div",V,[d("div",null,[n(e,{title:b.value,gorouter:k.value},null,8,["title","gorouter"])]),d("div",q,[n(r,{inset:""},{default:v((()=>[n(u,{modelValue:w.value,"onUpdate:modelValue":t[0]||(t[0]=e=>w.value=e),label:"收货人",required:"",placeholder:"请输入收货人姓名(必填)","error-message":H.value},null,8,["modelValue","error-message"]),n(u,{modelValue:j.value,"onUpdate:modelValue":t[1]||(t[1]=e=>j.value=e),type:"tel",label:"手机号","error-message":K.value,required:"",placeholder:"请输入收货人手机号(必填)"},null,8,["modelValue","error-message"]),n(u,{modelValue:U.value,"onUpdate:modelValue":t[2]||(t[2]=e=>U.value=e),required:"","is-link":"",readonly:"",label:"省市区",placeholder:"请选择省市区(必填)",onClick:t[3]||(t[3]=e=>T.value=!0),"error-message":L.value},null,8,["modelValue","error-message"]),n(u,{modelValue:E.value,"onUpdate:modelValue":t[4]||(t[4]=e=>E.value=e),required:"",label:"街道",placeholder:"请输入具体街道(必填)","error-message":M.value},null,8,["modelValue","error-message"]),n(u,{modelValue:I.value,"onUpdate:modelValue":t[5]||(t[5]=e=>I.value=e),rows:"2",autosize:"",label:"详细地址",type:"textarea",placeholder:"请输入收货人详细地址"},null,8,["modelValue"])])),_:1}),d("div",S,[n(x,null,{default:v((()=>[n(s,{span:"7",style:{display:"flex","align-items":"center"}},{default:v((()=>[N])),_:1}),n(s,{span:"13",style:{display:"flex","align-items":"center"}},{default:v((()=>[O])),_:1}),n(s,{span:"4",style:{display:"flex","align-items":"center"}},{default:v((()=>[n(i,{modelValue:$.value,"onUpdate:modelValue":t[6]||(t[6]=e=>$.value=e)},null,8,["modelValue"])])),_:1})])),_:1})])]),n(_,{show:T.value,"onUpdate:show":t[11]||(t[11]=e=>T.value=e),round:"",position:"bottom"},{default:v((()=>[n(g,{modelValue:B.value,"onUpdate:modelValue":t[9]||(t[9]=e=>B.value=e),ref_key:"checkbox",ref:D,"area-list":m(a),"toolbar-position":"bottom","allow-html":!0,"columns-num":3,"visible-option-num":4,onConfirm:t[10]||(t[10]=e=>G())},{"columns-top":v((()=>[J])),toolbar:v((()=>[n(x,null,{default:v((()=>[n(s,{span:"12",style:{display:"flex","justify-content":"center","align-items":"center"}},{default:v((()=>[n(f,{plain:"",type:"primary",style:{width:"100px",height:"40px"},onClick:t[7]||(t[7]=e=>T.value=!1)},{default:v((()=>[y("取消")])),_:1})])),_:1}),n(s,{span:"12",style:{display:"flex","justify-content":"center","align-items":"center"}},{default:v((()=>[n(f,{type:"primary",style:{width:"100px",height:"40px"},onClick:t[8]||(t[8]=e=>G(l.e))},{default:v((()=>[y("确认")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","area-list"])])),_:1},8,["show"])]),d("div",R,[n(f,{type:"primary",class:"loginsty loginco",style:{"margin-bottom":"25px"},onClick:P},{default:v((()=>[y("保存")])),_:1}),n(f,{plain:"",type:"primary",class:"loginsty",style:{"margin-bottom":"25px"},onClick:Q},{default:v((()=>[y("删除")])),_:1})])])}}},[["__scopeId","data-v-e5c3b2c2"]]);export{$ as default};
